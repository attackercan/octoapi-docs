# Найденные хосты
----

Получение списка хостов хранящихся в базе данных.
**Примечание:** выдаче подлежат только хосты с хотя бы одним активным портом.

* **URL** `/hosts/`
* **Метод:**  `GET`

*  **Параметры URL запроса**
   *  **Опциональные:**
      - `project_id` - идентификатор проекта которому должны принадлежать хосты
      - `skip` - пропустить `n` записей (для пагинации). По умолчанию `skip=0`
      - `limit` - ограничить количество записей числом `n` (для пагинации).
      - `sort` - параметр сортировки. Может быть одним из:
        - `host` - алфавитная сортировка хостов (от меньшего)
        - `-host` - алфавитная сортировка хостов (от большего)
        - `ports.port_count` - сортировка по количеству портов (от меньшего)
        - `-ports.port_count` - сортировка по количеству портов (от большего)
      - `host` - параметр для поиска конкретного хоста. Если указать несколько значений
        то критерием фильтрации будет соответствие любому из указанных значений.
      - `$gt-port_count` - параметр для выдачи хостов с количеством портов больше чем указанное значение
      - `$lt-port_count` - параметр для выдачи хостов с количеством портов больше чем меньше значение
      - `pending` - фильтрация по признаку статуса хоста. 
        `1` - выдать те что ожидают явного одобрения, `0` - только одобренные.
      - `ports.port_number` - выдать хосты у которых открыт указанный порт. По аналогии с `host`, может быть указано несколько значений.

* **Успешное выполнение:**
  * **Код:** `200` <br />
    **Тело:**  
   ```json
    {
        "count": 1,
        "items": [
            {
                "host": "33.34.55.121",
                "ports": [
                    {
                        "port_number": 8000,
                        "found_by": "nmap",
                        "protocol": "http",
                        "last_seen": "2022-03-30T07:23:06",
                        "cdate": "2022-03-30T07:23:06",
                        "mdate": "2022-03-30T07:23:06"
                    },
                    {
                        "port_number": 443,
                        "found_by": null,
                        "protocol": "http",
                        "last_seen": "2022-03-30T07:23:06",
                        "cdate": "2022-03-30T07:23:06",
                        "mdate": "2022-03-30T07:23:06"
                    }
                ],
                "project_id": "624404fbd7175d4adaddf56a",
                "found_by": "crawler",
                "pending": false,
                "cdate": "2021-03-30T07:23:06",
                "mdate": "2021-03-30T07:23:06"
            }
        ]
    }

    ```
    * `count` - общее количество хостов соответствущих запросу
    *  `found_by` внутри каждого хоста и вложенного порта может быть строкой либо `null`